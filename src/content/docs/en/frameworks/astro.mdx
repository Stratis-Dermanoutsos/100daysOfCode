---
title: "Astro"
description: "This section contains notes on the Astro framework."
---

import Gist from '/src/components/General/Gist.astro'

***Astro*** is a static site builder that delivers lightning-fast performance by minimizing the ***JavaScript*** code that's being shipped to your browser. While doing that, you are still allowed to use and even combine multiple of the most popular frameworks, like ***React*** and ***Vue***.

## Installation / Create project

To create a project, simply run the following:

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-create.sh" />

Then, simply add the steps that appear in your console.

> No need to pre-create a folder, ***Astro*** will do it for you.

After the project is initialized, run the project:

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-run.sh" />

## Basic structure of a component

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-component-basic.astro" />

To use the component, import it in another component or a page:

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-component-import.astro" />

> For the sake of this example, the component we created above is written in the file `src/components/test.astro`.

To pass props, use ***TypeScript*** types in the component:

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-component-props.astro" />

Then, you can call it as follows:

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-component-import-props.astro" />

## Pages and routing

***Astro*** uses both **static** and **dynamic** routing.

### Static routing

All ***Astro*** (`*.astro`) and ***Markdown*** (`*.md`) files in the `src/pages` directory automatically become pages on your website.

For example,

```
# Example: Static routes

src/pages/index.astro        -> mysite.com/

src/pages/about.astro        -> mysite.com/about
src/pages/about/index.astro  -> mysite.com/about

src/pages/about/me.astro     -> mysite.com/about/me

src/pages/posts/1.md         -> mysite.com/posts/1
```

### Markdown pages

***Astro*** treats **`.md`** files as pages, as long as they're located inside the `src/pages/` directory.

For example,

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-pages-markdown.astro" />

will be automatically translated to ***HTML***.

## Layouts

Layouts are basically components with a more specific usage. They exist to re-use basic page styling for your page.

For example, create a `TestLayout.astro` file with the following content:

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-TestLayout.astro" />

Notice the `<slot />` component. This is used to specify where the children of the layout will go.

Now, to use the layout, pretend it's just a component.

For example, in `index.astro`, we'll write the following:

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-index.astro" />

What this does is it uses all the code of the layout we created earlier and replaces the `<slot />` component with all the new code that exists between the `<TestLayout>...</TestLayout>` tags.

## Styling

To style any component, simply use the `<style></style>` tag as you would in any ***HTML*** file.

However, it is **IMPORTANT** to notice that ***Astro*** uses styled components, and as such, the styling for each component needs to be declared in the same file.

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-style.html" />

### Global styles

To add global styles to ***HTML*** elements/classes etc, use the `is:global` selector

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-style-global.astro" />

### Choose CSS preprocessor

Simply, set the `lang` attribute for the `<style></style>` tag.

Eg.

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-style-preprocessor.astro" />

## Add a framework to your page

There are 2 ways to add a UI Framework (Eg. ***React***) to your ***Astro*** project:

- Manually

  To do this manually, there are 2 steps to follow.

  1. Install the framework's dependencies:

     <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-framework-deps.sh" />

  2. Add the framework to the `astro.config.mjs` file, as shown:

     <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-framework-config.mjs" />

- Using the automated tool

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-framework-add.sh" />

## Hydration

A framework component can be made interactive (hydrated) using one of the `client:*` directives.

- This component's ***JS*** will begin importing when the page loads.

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-hydration-load.astro" />

- This component's ***JS*** will be imported once the page is done with its initial load.

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-hydration-idle.astro" />

- This component's ***JS*** will not be imported until the user scrolls down enough for component to be visible on the page.

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-hydration-visible.astro" />

- The component's ***JavaScript*** will be hydrated once a certain ***CSS*** media query is met.

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-hydration-media.astro" />

- This skips ***HTML*** server-rendering, and renders only on the client. It hydrates the component immediately on page load.

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="astro-hydration-framework.astro" />

  > You must pass the componentâ€™s correct framework as a value!

## Resources

- [Astro documentation](https://docs.astro.build)
- [Astro in 100 Seconds by Fireship](https://youtu.be/dsTXcSeAZq8)
- [Create template layouts by Kevin Powell](https://youtu.be/o7iQAF2EvUU)
- [Astro crash course by Little Sticks](https://youtube.com/playlist?list=PLtLXFsdHI8JSX0qJsHfMDSTR3taqvXa5S)
- [Using SVGs as Astro components](https://ellodave.dev/blog/article/using-svgs-as-astro-components-and-inline-css/)
- Best Libraries for Astro
  - [Astro-Bootstrap](https://www.npmjs.com/package/astro-bootstrap)
