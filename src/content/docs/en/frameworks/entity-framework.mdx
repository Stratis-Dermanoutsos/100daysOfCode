---
title: "Entity Framework"
description: "This section contains notes on Entity Framework."
---

import Gist from '/src/components/General/Gist.astro'

***Entity Framework*** is an object-relational mapping (ORM) framework developed by **Microsoft**. It is a component of the ***.NET*** framework that enables developers to work with relational databases using ***.NET*** objects.

It supports a wide range of database providers, including ***SQL Server***, ***Oracle***, ***MySQL*** and ***PostgreSQL***. It also includes support for advanced features such as *transactions*, *caching*, and *concurrency control*.

To use ***Entity Framework* Core**, 4 ***NuGet*** packages are needed:

- Microsoft.EntityFrameworkCore
- Microsoft.EntityFrameworkCore.*\<SQLtool>*
- Microsoft.EntityFrameworkCore.Tools
- Microsoft.EntityFrameworkCore.Design

## The CLI tool

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-install.sh" />

To update it

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-update.sh" />

To use it on a project

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-package-add.sh" />

Verify installation

<Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef.sh" />

## Setup

We'll setup an ***SQLite*** database for the sake of an example.

- Install the necessary tools

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-sqlite-install.sh" />

- Create a *\<file>.db* database using ***SQLite***
- Go to the project's *appsettings.json* file and add

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-connection-string.json" />

- Create a class inside the ***M*odels** folder
  We'll name it **Car** for this example

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-model-car.cs" />

- Create the *ApplicationDbContext* class inside the ***M*odels** folder
  The file should look like this

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-context.cs" />

- Go to **Startup.cs** inside the *ConfigureServices* method and add

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-context-add.cs" />

  or, if top level statements,

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-context-add-top.cs" />

- Run

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-migration-add.sh" />

  Notice that, now, there is a **\<numbers>_AddCarToDb.cs** file in the **Migrations** folder.
- Update the database and schema by running

  <Gist gistCode="2b192ecdd9213f18fca22b72c30fab2e" fileName="dotnet-ef-db-update.sh" />

## Resources

- [Entity Framework Core documentation](https://docs.microsoft.com/en-us/ef/core/)
- [Entity Framework in Console](https://www.entityframeworktutorial.net/efcore/entity-framework-core-console-application.aspx)
- [JetBrains on Entity Framework](https://www.jetbrains.com/dotnet/guide/tutorials/basics/entity-framework-core/)
- [PostgreSQL with EF Core](https://www.npgsql.org/efcore/index.html)
