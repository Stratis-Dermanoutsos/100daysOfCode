---
title: "React"
description: "This section contains notes on the React library."
---

import Gist from '/src/components/General/Gist.astro'

## Install

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="install-cra.sh" />

## Create React project

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="cra.sh" />

## Basic Scripts

- Start the development server

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="start.sh" />

- Bundle the app into static files for production

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="build.sh" />

- Start the test runner

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="test.sh" />

- Remove this tool and copy build dependencies, configuration files and scripts into the app directory

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="eject.sh" />

  Once you run this, there is no turning back!

## JSX

***JSX*** is a syntax extension for ***JavaScript***. It was written to be used by ***React*** and looks a lot like ***HTML***. Given ***JSX*** is not valid ***JavaScript***, web browsers can't read it directly.

***JSX*** is an inline markup that looks like ***HTML*** and gets transformed to ***JavaScript***. A ***JSX*** expression starts with an ***HTML***-like open tag, and ends with the corresponding closing tag. ***JSX*** tags support the ***XML*** self close syntax so you can optionally leave the closing tag off.

For example,

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="jsx-basic.jsx" />

## Components

**Components** is the heart of ***React***. Their job is only 1: Break UIs into small chunks.

They can be either a function or an **ES6** class.

### Function components

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="component-function.jsx" />

How to use?

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="component-function-usage.jsx" />

### Class components

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="component-class.jsx" />

How to use?

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="component-class-usage.jsx" />

### Component Instance

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="component-instance.jsx" />

### Element

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="element.jsx" />

## Hooks

UI components are often dynamic.

Developers had to build and use classes to use certain ***React***'s features.
While classes are still there, hooks are a more ergonomic option.

Hooks enable the developer to re-use stateful logic.
Without them, it is easy, and sometimes even necessary, to wrap components inside components and repeat this process a lot of time, eventually getting lost.

Basically, hooks are functions that generally start with the word '*use*'.

> ***Only call them at the top level of a function***!

- ### ***useState()***

  Its purpose is to handle reactive data. Any data that changes is called *state*.
  So, when there is a change in the *state*, ***React*** re-renders the UI to display those changes.

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useState.jsx" />

- ### ***useEffect()***

  It exists to handle the lifecycle of a component.

  The code bellow runs every time a state is changed.

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useEffect.jsx" />

  Example case

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useEffect-example.jsx" />

- ### ***useContext()***

  It allows the developer to work with ***React***'s context API. In other words, share data without passing props.

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useContext.jsx" />

  In the code above, when the mood value changes inside parent, it changes in the 'MoodEmoji' component too.

  The ***useContext()*** hook is a cleaner version of a 'Consumer' component.
- ### ***useRef()***

  It's used to grab a value that changes but does not re-render the UI.

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useRef.jsx" />

  In the code above, the value of 'count' changes but the displayed value stays the same.

  A more common use is to grab ***HTML*** elements from ***JSX***.

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useRef-example.jsx" />

- ### ***useReducer()***

  It is basically a different way to manage state

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useReducer.jsx" />

- ### ***useMemo()***

  It is used to optimize computation cost for improved performance.

  It is only recommended for expensive calculations.

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useMemo.jsx" />

- ### ***useId()***

  It is a new hook introduced with [React 18](https://reactjs.org/blog/2022/03/29/react-v18.html) and it is used for generating unique IDs on both the client and server.

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="useId.jsx" />

There are more hooks, but I kept it simple and focused to the common ones.

## Images

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="images.jsx" />

## Import styles from CSS

- The CSS

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="css.css" />

- The Component

  <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="css.jsx" />

## Make your life easier

### Object of React Components

This will serve as a simple library of components.
They can be defined inside a single file, let's say *Timeline.js*.

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="object-of-components.jsx" />

Now, to call them, simply do

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="object-of-components-example.jsx" />

### Short import paths

This is a very common problem when working with ***React***:

```javascript
import module from '../../models/car';
```

It'd be much better looking if it was something like:

```javascript
import module from 'models/car';
```

To achieve this, simple add the following line inside the `compilerOptions` in your **jsconfig.json** or **tsconfig.json**. (depending on whether you use ***JavaScript*** or ***TypeScript*** respectively)

```json
'baseUrl': 'src',
```

It will look something like this:

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="jsconfig.json" />

### Suspend Layout

The new `<Suspense>` tag enables you to render another component while your data is being fetched, without the need of a ternary operator (`? :`) or anything like that.

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="suspense.jsx" />

### Avoid inline function calls

Let's say you need a button that writes `"Hello world!"` in the console.
You could do it in an inline style:

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="inline-functions.jsx" />

or by using a predefined method:

<Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="predefined-methods.jsx" />

While the inline method can be useful in reducing the lines of code in your file, it greatly reduces readability and makes your program difficult to maintain if used frequently.
By defining a method before using it in your ***JSX***, you can write longer functions and still keep them readable.

## Deploy to production

### Apache

To deploy a ***React*** project to apache, there are several steps that must be taken. These steps with ensure that the endpoint will work for all routes and apache won't throw 404s for not finding a directory.

1. Go to your **package.json** and paste the following:

   ```json
   "homepage": ".",
   ```

2. Inside the `<head>` tag of your **index.html** file, paste:

   ```html
   <script type="text/javascript"> document.write("<base href='//" + document.location.host + "/' />"); </script>
   ```

   Note that, after the `document.location.host`, you may need to paste the name of the directory your application will be deployed in. This is a necessity if your server handles multiple endpoints.
   To do that:

   ```html
   <script type="text/javascript"> document.write("<base href='//" + document.location.host + "/{path}/' />"); </script>
   ```

   and replace the `{path}` with the directory's path.
3. Inside the **App.js** or **index.js**, depending on where you've declared the `<BrowserRouter>`, you'll have to provide the `{path}` you set in the previous step as `basename`.
   To do that, change `<BrowserRouter>` into `<BrowserRouter basename='{path}'>` replacing it like before.
4. Inside the project's **public/** directory, create a file called **.htaccess** and paste:

   ```
   Options -MultiViews
   RewriteEngine On
   RewriteCond %{REQUEST_FILENAME} !-f
   RewriteRule ^ index.html [QSA,L]
   ```

5. Build & deploy

   <Gist gistCode="29c1c476ca5c6eb881e72d557d2ab47b" fileName="build.sh" />

   and paste the generated files inside your Apache directory.

## Resources

- [Top ReactJS interview questions you need to prepare](https://snaphunt.com/advice/jobSearchAdvice/top-reactjs-interview-questions-you-need-to-prepare)
- [Udemy course by Maximilian Schwarzm√ºller](https://www.udemy.com/share/101Wby3@RX0A2L3dXhJ0yvjjLMk8uHWNOu2iFQePG60nZ676p0sRvi0EjhNDpJ3AyTmtD1m6/)
- [Fireship video (explanation)](https://youtu.be/Tn6-PIqc4UM)
- [Beginner's Tutorial by freeCodeCamp.org (2022)](https://youtu.be/bMknfKXIFA8)
- [React Hooks Fundamentals from freeCodeCamp.org](https://www.freecodecamp.org/news/react-hooks-fundamentals/)
- [Web Dev Simplified video (introduction)](https://youtu.be/hQAHSlTtcmY)
- [Fireship video (hooks)](https://youtu.be/TNhaISOUy6Q)
- [How I structure my react components by Rakesh Potnuru](https://dev.to/itsrakesh/how-i-structure-my-react-components-aef)
- [Routing in React](https://reactrouter.com/docs/en/v6)
- [URL parameters and query strings in React](https://betterprogramming.pub/using-url-parameters-and-query-strings-with-react-router-fffdcea7a8e9)
- [React with TypeScript Cheatsheet](https://blog.bitsrc.io/react-with-typescript-cheatsheet-9dd891dc5bfe)
- [React anti-patterns by Fireship](https://youtu.be/b0IZo2Aho9Y)
- [*useful-custom-react-hooks* repository by Web Dev Simplified](https://github.com/WebDevSimplified/useful-custom-react-hooks)
- [Deploy React](https://create-react-app.dev/docs/deployment/)
- [Tailwind CSS with React](https://youtu.be/pfaSUYaSgRo)
- [Building a Progressive Web App with React](https://dev.to/elliot_brenya/building-a-progressive-web-app-with-react-ifd)
- Best Component Libraries for React
  - [Ant Design](https://ant.design)
  - [Atomize](https://atomizecode.com)
  - [Blueprint](https://blueprintjs.com)
  - [Elementz](https://elementz.style)
  - [Headless UI](https://headlessui.dev)
  - [Mantine](https://mantine.dev)
  - [Material-UI](https://mui.com)
  - [NextUI](https://nextui.org)
  - [React-Bootstrap](https://react-bootstrap.github.io)
  - [React Flow](https://reactflow.dev/docs/)
  - [React Toolbox](http://react-toolbox.io/)
  - [Semantic UI](https://semantic-ui.com)
  - [Slate](https://github.com/ianstormtaylor/slate)
  - [Spectacle](https://formidable.com/open-source/spectacle/)
  - [VechaiUI](https://www.vechaiui.com)
  - [Victory](https://formidable.com/open-source/victory/docs)
